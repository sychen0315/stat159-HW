---
title: "Simple Regression Analysis"
author: "Siyu Chen"
date: "10/7/2016"
output: pdf_document
---

# Abstract 

In this report, we reproduce the main results displayed in section 3.1 Simple Linear Regression (chapter 3) of the book [An Introduction to Statistical Learning](http://www-bcf.usc.edu/%7Egareth/ISL/ISLR%20Sixth%20Printing.pdf).

# Introduction

The overall goal is to explore whether increasing TV advertising budgets will improves sales. In this report, we specifically look at how TV advertising budgets affect sales by calculations and plotting graphs. If a relationship exists between TV advertising budgets and sales, then we want to build a good linear model that can be used for sales prediction based on TV advertising budget.


# Data

The [advertising dataset](http://www-bcf.usc.edu/%7Egareth/ISL/Advertising.csv) consists of Sales(in thousands of units) of a particular product in 200 different markets, along with advertising budgets (in thousands of dollars) for the product in each of those markets for three different media (TV, Newspaper and Radio). But we will only explore the association between TV advertising budgets and sales in this report.

# Methodology

We consider Sales and TV advertising budgets in our dataset and try to fit them in a simple linear regression model:

\begin{center}
$Sales = \beta_0 + \beta_1TV$
\end{center}

In order to estimate two coefficients $\beta_0$ and $\beta_1$, we fit the linear regression model via the least square criterion.

# Results
We compute the regression coefficients in Table 1 below:

```{r, results='asis', echo=FALSE}
load(file = "../data/regression.RData")
sum <- summary(reg)
library(xtable)
table1 <- xtable(sum, caption = "Information about Regression Coefficients")
print(table1, comment=FALSE)
```

From the **Table1** above, we can see that the slope of our linear model is around 0.0475 and the intercept point at 7.0326. This indicates that if TV advertising budgets increase by 1 thousands dollars, Sales will increase by about 0.0475 thousands of units. This also indicates that if TV advertising budget is zero, Sales will still be around 7.0326 thousands of units.

Now let's see if our model is reliable or not.

```{r, results='asis',echo=FALSE}
summary_table_fields <- c("Residual standard error", "R Squared", "F-Statistics")
summary_table_values <- c(sum$sigma, sum$r.squared, sum$fstatistic[1])
summary_table_df <- data.frame(summary_table_fields, summary_table_values)
colnames(summary_table_df) <- c("Quantity", "Value")
table2 <- xtable(summary_table_df, caption = "Regression Quality Indicies")
print(table2, comment=FALSE)
```

From the **Table2** above, we can see that the **R Squared**, which is a indicator of correlatin between Sales and TV advertising budgets,is 0.61. As we can see, 0.61 is not very high, which means it's not good enough. One of reason is that we don't have enough data to build a better model. 

The **Residual Standard Error**,the average amount that Sales deviate from the true regression line, is 3.26. That means the average deviation of Sales from our predicted value is about 3260 units. The mean of Sales is only about 14.02 thousand units, and this deviation is almost 23.25%. So I would say our predicted linear model is not very reliable.

In addition, from the scatterplot graph of **Figuer 1**, we can see that the deviation becomes larger and larger as TV advertising budgets increase. 

![Scatterplot with fitted regression line](../images/scatterplot-tv-sales.png)


That means our model becomes more unreliable as TV advertising budgets increase.

# Conclusion

Our simple linear regression model is able to make relatively reliable prediction when TV advertising budget is small. The reliability of our prediction decreases as TV advertising budget gets larger. This problem can be possiblely solved by fitting a model from a larger dataset, fitting a different model or removing outliers.
